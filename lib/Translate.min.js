LIBRARY({
	name: "Translate",
	version: 1,
	shared: false,
	api: "CoreEngine"
});

var fS = __config__.access("fS");
if (fS == null) __config__.set("fS", true);
__config__.save();
fS = __config__.getBool("fS");
if (fS) {
	alert(Translate("Translations may be inaccurate"));
	alert(Translate("Loaded Your Language: English - Default"));
	__config__.set("fS", false);
}
function Translate(str, iP) {
	if (!str) return;
	var l = ["en", "nl", "de", "es", "fr", "it", "ja", "ko", "pt", "ru", "zh"];
	// English, Nederlands, Deutsch, Espanol, Français, Italiano, Japanese, Korean, Português, Russian, Chinese 
	if (iP) {
		eval('var f=' + FileTools.ReadText(__dir__ + str))
		for (var s in f) {
			let lL = f[s], tr = {};
			for (let i in l) {
				let ln = l[i];
				if (lL[ln]) tr[ln] = lL[ln];
			}
			Translation.addTranslation(s, tr)
		}
	} else return Translation.translate(str);
}
Translate('assets/translations.json', true);

EXPORT("Translate", Translate);
